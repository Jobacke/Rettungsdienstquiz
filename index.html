<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>RD Quiz</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}
html,body{height:100%;overflow-x:hidden}
body{font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:#0f172a;min-height:100%;color:#f1f5f9;padding:20px;padding-top:max(20px,env(safe-area-inset-top));padding-bottom:max(20px,env(safe-area-inset-bottom))}
.hide{display:none!important}
.wrap{max-width:500px;margin:0 auto}
.logo{width:70px;height:70px;border-radius:16px;background:#dc2626;display:flex;align-items:center;justify-content:center;margin:30px auto 16px;font-size:36px;color:#fff}
h1{font-size:22px;text-align:center;margin-bottom:4px}
.sub{color:#94a3b8;text-align:center;margin-bottom:20px;font-size:14px}
.info{display:flex;justify-content:space-around;background:#1e293b;border-radius:12px;padding:14px;margin-bottom:16px}
.info div{text-align:center}
.info small{font-size:10px;color:#64748b;display:block}
.info b{font-size:18px}
.leg{text-align:center;margin-bottom:20px;font-size:13px;color:#94a3b8}
.dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:4px;vertical-align:middle}
.btn{display:block;width:100%;padding:16px;font-size:17px;font-weight:600;color:#fff;background:#dc2626;border:none;border-radius:12px;cursor:pointer;-webkit-appearance:none;appearance:none;text-align:center;touch-action:manipulation}
.btn:active{background:#b91c1c;transform:scale(0.98)}
.top{display:flex;justify-content:space-between;font-size:13px;margin-bottom:6px}
.pts{color:#22c55e;font-weight:600}
.bar{height:4px;background:#334155;border-radius:2px;margin-bottom:14px}
.bar div{height:100%;background:#dc2626;border-radius:2px}
.time{width:50px;height:50px;border-radius:50%;border:3px solid #22c55e;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;margin:0 auto 14px;color:#22c55e}
.time.y{border-color:#f59e0b;color:#f59e0b}
.time.r{border-color:#ef4444;color:#ef4444}
.card{background:#1e293b;border-radius:12px;padding:16px;margin-bottom:14px}
.tags{margin-bottom:10px}
.tag{display:inline-block;padding:3px 8px;border-radius:12px;font-size:11px;margin-right:6px}
.tagd{color:#fff}
.tagc{background:#334155;color:#cbd5e1}
.qtxt{font-size:15px;line-height:1.4}
.opts{margin-bottom:14px}
.opt{display:flex;align-items:center;gap:10px;padding:12px;margin-bottom:8px;background:#1e293b;border:2px solid #334155;border-radius:8px;cursor:pointer;text-align:left;color:#e2e8f0;font-size:14px;touch-action:manipulation}
.opt:active{background:#334155}
.optl{width:26px;height:26px;border-radius:5px;background:#334155;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;flex-shrink:0}
.opt.ok{background:rgba(34,197,94,0.2);border-color:#22c55e}
.opt.no{background:rgba(239,68,68,0.2);border-color:#ef4444}
.opt.dim{opacity:0.4}
.fb{padding:10px;border-radius:6px;text-align:center;font-size:13px;font-weight:600}
.fbok{background:rgba(34,197,94,0.2);color:#22c55e}
.fbno{background:rgba(239,68,68,0.2);color:#ef4444}
.big{font-size:50px;text-align:center;margin-bottom:6px}
.grade{font-size:24px;font-weight:700;text-align:center;margin-bottom:6px}
.sc{font-size:40px;font-weight:700;text-align:center}
.sc span{font-size:18px;color:#64748b}
.pct{color:#94a3b8;text-align:center;margin-bottom:20px;font-size:14px}
.grid{display:flex;gap:8px;margin-bottom:20px}
.grid div{flex:1;background:#1e293b;border-radius:8px;padding:12px;text-align:center}
.grid small{font-size:10px;color:#64748b;display:block;margin-top:4px}
.grid b{font-size:16px}
.rtitle{font-size:14px;font-weight:600;margin-bottom:12px;color:#cbd5e1}
.rlist{margin-bottom:20px}
.ri{padding:10px;border-radius:8px;margin-bottom:6px;border-left:3px solid}
.riok{border-color:#22c55e;background:rgba(34,197,94,0.1)}
.rino{border-color:#ef4444;background:rgba(239,68,68,0.1)}
.rh{display:flex;align-items:center;gap:6px;font-size:11px;margin-bottom:4px;flex-wrap:wrap}
.rn{color:#64748b}
.rd{padding:1px 5px;border-radius:6px;font-size:9px;color:#fff}
.rpok{margin-left:auto;font-weight:700;color:#22c55e}
.rpno{margin-left:auto;font-weight:700;color:#ef4444}
.rq{font-size:12px;color:#cbd5e1;line-height:1.3}
.rc{font-size:11px;color:#22c55e;margin-top:4px}
</style>
</head>
<body>
<div class="wrap">

<div id="screen1">
<div class="logo">+</div>
<h1>Rettungsdienst Quiz</h1>
<p class="sub">Fragen fuer Rettungssanitaeter</p>
<div class="info">
<div><small>Fragen</small><b>15</b></div>
<div><small>Max.</small><b>30</b></div>
<div><small>Zeit</small><b>30s</b></div>
</div>
<div class="leg">
<span class="dot" style="background:#22c55e"></span>Leicht 1P
<span class="dot" style="background:#f59e0b;margin-left:10px"></span>Mittel 2P
<span class="dot" style="background:#ef4444;margin-left:10px"></span>Schwer 3P
</div>
<button type="button" class="btn" id="startBtn">Quiz starten</button>
</div>

<div id="screen2" class="hide">
<div class="top"><span>Frage <span id="qnum">1</span>/15</span><span class="pts"><span id="score">0</span> Punkte</span></div>
<div class="bar"><div id="progbar" style="width:6.67%"></div></div>
<div class="time" id="timer">30</div>
<div class="card">
<div class="tags"><span class="tag tagd" id="tagdiff">leicht (1P)</span><span class="tag tagc" id="tagcat">Grundlagen</span></div>
<p class="qtxt" id="qtext">Frage</p>
</div>
<div class="opts" id="options"></div>
<div id="feedback" class="fb hide"></div>
</div>

<div id="screen3" class="hide">
<div class="big" id="resemoji"></div>
<div class="grade" id="resgrade"></div>
<div class="sc"><span id="resscore">0</span><span>/30</span></div>
<p class="pct"><span id="respct">0</span>% richtig</p>
<div class="grid" id="resgrid"></div>
<p class="rtitle">Uebersicht</p>
<div class="rlist" id="reslist"></div>
<button type="button" class="btn" id="restartBtn">Neues Quiz</button>
</div>

</div>

<script>
(function(){
"use strict";

var allQ = [
{q:"Wie lautet die Notrufnummer in Deutschland?",o:["110","112","118","19222"],a:1,d:"leicht",p:1,c:"Grundlagen"},
{q:"Wofuer steht die Abkuerzung RTW?",o:["Rettungstransportwagen","Rettungstechnikwagen","Rundumtransportwagen","Rettungstruppwagen"],a:0,d:"leicht",p:1,c:"Grundlagen"},
{q:"Welche Besatzung hat ein RTW mindestens?",o:["1 Rettungssanitaeter","1 Notfallsanitaeter + 1 Rettungssanitaeter","2 Notaerzte","1 Rettungshelfer"],a:1,d:"leicht",p:1,c:"Grundlagen"},
{q:"Was bedeutet die Abkuerzung NEF?",o:["Notfall-Einsatz-Fahrzeug","Notarzt-Einsatz-Fahrzeug","Not-Erste-Hilfe-Fahrzeug","Notfall-Erstversorgungs-Fahrzeug"],a:1,d:"leicht",p:1,c:"Grundlagen"},
{q:"Wie lange dauert die Ausbildung zum Rettungssanitaeter?",o:["4 Wochen","3 Monate","1 Jahr","3 Jahre"],a:1,d:"leicht",p:1,c:"Grundlagen"},
{q:"Wofuer steht KTW?",o:["Krankentransportwagen","Kliniktransportwagen","Krankentherapiewagen","Kriseneinsatzwagen"],a:0,d:"leicht",p:1,c:"Grundlagen"},
{q:"Was ist die Aufgabe der Leitstelle?",o:["Fahrzeugwartung","Notrufannahme und Disposition","Medikamentenausgabe","Personalschulung"],a:1,d:"leicht",p:1,c:"Grundlagen"},
{q:"Was bedeutet Hilfsfrist?",o:["Arbeitszeit","Zeit vom Notruf bis Eintreffen","Pausenzeit","Ausbildungszeit"],a:1,d:"leicht",p:1,c:"Grundlagen"},
{q:"Wie viele Herzdruckmassagen pro Minute beim Erwachsenen?",o:["60-80","80-100","100-120","120-140"],a:2,d:"leicht",p:1,c:"Reanimation"},
{q:"Welches Verhaeltnis HDM zu Beatmung bei Erwachsenen?",o:["15:2","30:2","5:1","20:2"],a:1,d:"leicht",p:1,c:"Reanimation"},
{q:"Wie tief sollte der Brustkorb bei HDM eingedrueckt werden?",o:["2-3 cm","5-6 cm","8-10 cm","1-2 cm"],a:1,d:"leicht",p:1,c:"Reanimation"},
{q:"Wo wird die Herzdruckmassage durchgefuehrt?",o:["Auf dem Bauch","Auf der unteren Brustbeinhaelfte","Am Hals","Auf dem Oberbauch"],a:1,d:"leicht",p:1,c:"Reanimation"},
{q:"Was prueft man zuerst bei einer bewusstlosen Person?",o:["Blutdruck","Bewusstsein","Blutzucker","Temperatur"],a:1,d:"leicht",p:1,c:"Reanimation"},
{q:"Wie lange sollte die Pulskontrolle maximal dauern?",o:["5 Sekunden","10 Sekunden","30 Sekunden","So lange wie noetig"],a:1,d:"leicht",p:1,c:"Reanimation"},
{q:"Wofuer steht AED?",o:["Automatischer externer Defibrillator","Arterieller Elektro-Detektor","Akuter Einsatz-Defibrillator","Automatische Erste-Hilfe-Dose"],a:0,d:"leicht",p:1,c:"Reanimation"},
{q:"Was bedeutet BLS?",o:["Basic Life Support","Blood Level Standard","Breathing Life System","Body Life Saving"],a:0,d:"leicht",p:1,c:"Reanimation"},
{q:"Wo tastet man beim Erwachsenen den Puls?",o:["Am Handgelenk","An der Halsschlagader","Am Knoechel","Am Oberarm"],a:1,d:"leicht",p:1,c:"Reanimation"},
{q:"Was ist der normale Ruhepuls eines Erwachsenen?",o:["40-60/min","60-100/min","100-120/min","80-140/min"],a:1,d:"leicht",p:1,c:"Vitalzeichen"},
{q:"Was ist der normale systolische Blutdruck?",o:["60-80 mmHg","90-120 mmHg","140-180 mmHg","200-220 mmHg"],a:1,d:"leicht",p:1,c:"Vitalzeichen"},
{q:"Welche Atemfrequenz ist beim Erwachsenen normal?",o:["6-8/min","12-20/min","25-35/min","40-50/min"],a:1,d:"leicht",p:1,c:"Vitalzeichen"},
{q:"Was ist die normale Koerpertemperatur?",o:["34-35 Grad","36-37 Grad","38-39 Grad","40-41 Grad"],a:1,d:"leicht",p:1,c:"Vitalzeichen"},
{q:"Ab welcher Temperatur spricht man von Fieber?",o:["36,5 Grad","37,5 Grad","38,0 Grad","39,0 Grad"],a:2,d:"leicht",p:1,c:"Vitalzeichen"},
{q:"Welcher SpO2-Wert gilt als normal?",o:["70-80%","80-90%","95-100%","100-110%"],a:2,d:"leicht",p:1,c:"Vitalzeichen"},
{q:"Was misst ein Pulsoximeter?",o:["Blutdruck","Sauerstoffsaettigung","Blutzucker","Temperatur"],a:1,d:"leicht",p:1,c:"Vitalzeichen"},
{q:"Was bedeutet Bradykardie?",o:["Schneller Herzschlag","Langsamer Herzschlag","Unregelmaessiger Herzschlag","Normaler Herzschlag"],a:1,d:"leicht",p:1,c:"Vitalzeichen"},
{q:"Was bedeutet Tachykardie?",o:["Langsamer Herzschlag","Schneller Herzschlag","Fehlender Herzschlag","Normaler Herzschlag"],a:1,d:"leicht",p:1,c:"Vitalzeichen"},
{q:"Welche Lagerung ist bei Schock indiziert?",o:["Oberkoerper hoch","Beine hoch","Flache Rueckenlage","Bauchlage"],a:1,d:"leicht",p:1,c:"Massnahmen"},
{q:"Welche Lagerung ist bei Atemnot empfohlen?",o:["Flache Rueckenlage","Oberkoerperhochlagerung","Beine hoch","Bauchlage"],a:1,d:"leicht",p:1,c:"Massnahmen"},
{q:"Wann wird die stabile Seitenlage angewendet?",o:["Bei Herzinfarkt","Bei Bewusstlosigkeit mit vorhandener Atmung","Bei Knochenbruechen","Bei Schlaganfall"],a:1,d:"leicht",p:1,c:"Massnahmen"},
{q:"Was bedeutet Immobilisation?",o:["Aktivierung","Ruhigstellung","Mobilisierung","Beatmung"],a:1,d:"leicht",p:1,c:"Massnahmen"},
{q:"Wozu dient ein Guedel-Tubus?",o:["Beatmung","Freihaltung der Atemwege","Intubation","Blutstillung"],a:1,d:"leicht",p:1,c:"Massnahmen"},
{q:"Wie viele Halswirbel hat der Mensch?",o:["5","7","12","9"],a:1,d:"leicht",p:1,c:"Anatomie"},
{q:"Wo liegt das Herz?",o:["Rechts im Brustkorb","Links im Brustkorb","Mittig leicht nach links","Im Bauchraum"],a:2,d:"leicht",p:1,c:"Anatomie"},
{q:"Welches Organ produziert Insulin?",o:["Leber","Bauchspeicheldruese","Niere","Milz"],a:1,d:"leicht",p:1,c:"Anatomie"},
{q:"Wie viele Kammern hat das Herz?",o:["2","3","4","5"],a:2,d:"leicht",p:1,c:"Anatomie"},
{q:"Wo liegt die Leber?",o:["Links im Oberbauch","Rechts im Oberbauch","Mittig im Bauch","Im Becken"],a:1,d:"leicht",p:1,c:"Anatomie"},
{q:"Was ist der Femur?",o:["Oberarmknochen","Oberschenkelknochen","Schienbein","Wadenbein"],a:1,d:"leicht",p:1,c:"Anatomie"},
{q:"Was ist die Trachea?",o:["Speiseroehre","Luftroehre","Harnroehre","Blutgefaess"],a:1,d:"leicht",p:1,c:"Anatomie"},
{q:"Welches Organ filtert das Blut?",o:["Lunge","Leber","Niere","Herz"],a:2,d:"leicht",p:1,c:"Anatomie"},
{q:"Wann muessen Handschuhe getragen werden?",o:["Nur bei sichtbarem Blut","Bei jedem Patientenkontakt","Nur bei Infektionspatienten","Nie"],a:1,d:"leicht",p:1,c:"Hygiene"},
{q:"Wie lange sollte die Haendedesinfektion dauern?",o:["5 Sekunden","30 Sekunden","2 Minuten","5 Minuten"],a:1,d:"leicht",p:1,c:"Hygiene"},
{q:"Was ist die wichtigste Hygienemassnahme?",o:["Mundschutz tragen","Haendedesinfektion","Schutzbrille","Schutzkittel"],a:1,d:"leicht",p:1,c:"Hygiene"},
{q:"Was bedeutet PSA?",o:["Persoenliche Schutzausruestung","Patientensicherheitsanalyse","Professionelle Sanitaeter-Ausstattung","Primaere Sicherheitsanforderung"],a:0,d:"leicht",p:1,c:"Hygiene"},
{q:"Was bedeutet die Abkuerzung GCS?",o:["German Cardiac Score","Glasgow Coma Scale","General Care System","Glucose Control Scale"],a:1,d:"mittel",p:2,c:"Diagnostik"},
{q:"Wie hoch ist der maximale GCS-Wert?",o:["10","12","15","18"],a:2,d:"mittel",p:2,c:"Diagnostik"},
{q:"Was bedeutet GCS 3?",o:["Bewusstseinsklarheit","Leichte Bewusstseinstruebung","Tiefes Koma","Tod"],a:2,d:"mittel",p:2,c:"Diagnostik"},
{q:"Wofuer steht ABCDE im Primary Survey?",o:["Airway Breathing Circulation Disability Exposure","Atmung Blutung Circulation Diagnose Ende","Anfang Beurteilung Check Dokumentation Ende","Keine dieser Optionen"],a:0,d:"mittel",p:2,c:"Diagnostik"},
{q:"Was prueft man beim A in ABCDE?",o:["Atmung","Atemwege","Allergien","Alter"],a:1,d:"mittel",p:2,c:"Diagnostik"},
{q:"Was bedeutet AVPU?",o:["Alert Voice Pain Unresponsive","Anamnese Vitalzeichen Pruefung Untersuchung","Automatisch Verbal Physisch Unklar","Alle Vitalzeichen pruefen"],a:0,d:"mittel",p:2,c:"Diagnostik"},
{q:"Was bedeutet FAST beim Schlaganfall?",o:["Schnelle Behandlung","Face Arms Speech Time","Fieber Atmung Sprache Test","Freie Atemwege sofort testen"],a:1,d:"mittel",p:2,c:"Diagnostik"},
{q:"Bei welchem GCS-Wert ist eine Intubation indiziert?",o:["GCS unter 12","GCS 8 oder weniger","GCS unter 5","GCS gleich 3"],a:1,d:"mittel",p:2,c:"Diagnostik"},
{q:"Was bedeutet isokor?",o:["Ungleiche Pupillen","Gleiche Pupillen","Weite Pupillen","Enge Pupillen"],a:1,d:"mittel",p:2,c:"Diagnostik"},
{q:"Was bedeutet anisokor?",o:["Gleiche Pupillen","Ungleiche Pupillen","Reaktive Pupillen","Lichtstarre Pupillen"],a:1,d:"mittel",p:2,c:"Diagnostik"},
{q:"Welches Medikament bei anaphylaktischem Schock?",o:["Diazepam","Adrenalin","Aspirin","Paracetamol"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Wie wirkt Adrenalin?",o:["Gefaesserweiternd","Gefaessverengend und herzfrequenzsteigernd","Nur schmerzlindernd","Sedierend"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Was ist das Antidot bei Opioidueberdosierung?",o:["Atropin","Naloxon","Flumazenil","Adrenalin"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Wie wirkt Nitroglycerin?",o:["Gefaesserweiternd","Gefaessverengend","Blutverduennend","Herzfrequenzsteigernd"],a:0,d:"mittel",p:2,c:"Medikamente"},
{q:"Was ist das Antidot bei Benzodiazepin-Ueberdosierung?",o:["Naloxon","Flumazenil","Atropin","Glukose"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Welches Medikament bei Hypoglykaemie?",o:["Insulin","Glukose","Adrenalin","Atropin"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Was ist die Standarddosis Adrenalin bei Reanimation?",o:["0,1 mg","1 mg","5 mg","10 mg"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Wie wird Adrenalin bei Reanimation verabreicht?",o:["Oral","Intravenoes oder intraossaer","Sublingual","Inhalativ"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Wann wird Atropin eingesetzt?",o:["Bei Tachykardie","Bei symptomatischer Bradykardie","Bei Bluthochdruck","Bei Schmerzen"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Welches Medikament bei Krampfanfall?",o:["Adrenalin","Midazolam oder Diazepam","Atropin","ASS"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Was bedeutet i.v.?",o:["Intramuskular","Intravenoes","Inhalativ","Intraokular"],a:1,d:"mittel",p:2,c:"Medikamente"},
{q:"Was bedeutet i.o.?",o:["Intravenoes","Oral","Intraossaer","Inhalativ"],a:2,d:"mittel",p:2,c:"Medikamente"},
{q:"Was ist ein typisches Zeichen eines Herzinfarkts?",o:["Schmerzen im linken Arm","Juckreiz","Erhoehter Appetit","Vermehrter Harndrang"],a:0,d:"mittel",p:2,c:"Notfaelle"},
{q:"Welche Symptome zeigt eine Hypoglykaemie?",o:["Schwitzen Zittern Verwirrtheit","Trockene Haut Durst","Fieber","Bluthochdruck"],a:0,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was sind Symptome einer Hyperglykaemie?",o:["Schwitzen Heisshunger","Durst Polyurie Acetongeruch","Hypothermie","Bradykardie"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was ist ein Lungenoedem?",o:["Luft in der Lunge","Fluessigkeit in der Lunge","Lungenentzuendung","Lungenkrebs"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was beschreibt die Golden Hour?",o:["Dienstzeit","Zeitfenster fuer optimale Traumaversorgung","Abrechnungszeitraum","Pausenregelung"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was ist Anaphylaxie?",o:["Leichte allergische Reaktion","Schwere lebensbedrohliche allergische Reaktion","Hautirritation","Nahrungsmittelunvertraeglichkeit"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was ist ein Schlaganfall?",o:["Herzinfarkt","Hirninfarkt oder Hirnblutung","Lungenembolie","Nierenversagen"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was ist das Zeitfenster fuer die Lysetherapie beim Schlaganfall?",o:["30 Minuten","4,5 Stunden","12 Stunden","24 Stunden"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was ist eine Lungenembolie?",o:["Verstopfung einer Lungenarterie","Lungenentzuendung","Lungenkrebs","Pneumothorax"],a:0,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was ist ein Status epilepticus?",o:["Einzelner Krampfanfall","Anhaltender Krampfanfall ueber 5 min","Abwesenheitsanfall","Psychogener Anfall"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was ist eine Sepsis?",o:["Lokale Infektion","Systemische Entzuendungsreaktion auf Infektion","Allergische Reaktion","Vergiftung"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Welche Herzrhythmusstoerung ist defibrillierbar?",o:["Asystolie","Kammerflimmern","Pulslose elektrische Aktivitaet","AV-Block"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was ist eine Asystolie?",o:["Schneller Herzschlag","Fehlende elektrische Herzaktivitaet","Normale Herzaktion","Langsamer Herzschlag"],a:1,d:"mittel",p:2,c:"Notfaelle"},
{q:"Was ist ein Pneumothorax?",o:["Fluessigkeit im Pleuraraum","Luft im Pleuraraum","Lungenentzuendung","Lungenembolie"],a:1,d:"mittel",p:2,c:"Trauma"},
{q:"Was ist eine Commotio cerebri?",o:["Hirnprellung","Gehirnerschuetterung","Hirnblutung","Hirninfarkt"],a:1,d:"mittel",p:2,c:"Trauma"},
{q:"Was kennzeichnet eine offene Fraktur?",o:["Knochen ragt aus der Haut","Knochen ist geprellt","Keine sichtbare Verletzung","Nur Schwellung"],a:0,d:"mittel",p:2,c:"Trauma"},
{q:"Was sind sichere Frakturzeichen?",o:["Schmerz und Schwellung","Fehlstellung abnorme Beweglichkeit Krepitation","Roetung","Bluterguss"],a:1,d:"mittel",p:2,c:"Trauma"},
{q:"Was ist eine Luxation?",o:["Knochenbruch","Gelenksausrenkung","Prellung","Zerrung"],a:1,d:"mittel",p:2,c:"Trauma"},
{q:"Welche Verbrennung betrifft alle Hautschichten?",o:["Grad I","Grad II","Grad III","Grad 0"],a:2,d:"mittel",p:2,c:"Trauma"},
{q:"Warum ist eine Beckenfraktur gefaehrlich?",o:["Schmerzen","Hoher Blutverlust moeglich","Hautschaeden","Infektionsgefahr"],a:1,d:"mittel",p:2,c:"Trauma"},
{q:"Welche Atemfrequenz ist beim Neugeborenen normal?",o:["12-20/min","30-50/min","60-80/min","10-15/min"],a:1,d:"mittel",p:2,c:"Paediatrie"},
{q:"Welcher Puls ist beim Saeugling normal?",o:["60-80/min","100-160/min","180-200/min","40-60/min"],a:1,d:"mittel",p:2,c:"Paediatrie"},
{q:"Was ist Pseudokrupp?",o:["Bakterielle Infektion","Virale Kehlkopfentzuendung mit bellendem Husten","Allergische Reaktion","Fremdkoerperaspiration"],a:1,d:"mittel",p:2,c:"Paediatrie"},
{q:"Welche Joule-Zahl bei erster Defibrillation Erwachsener?",o:["50 J","150-200 J biphasisch","360 J","500 J"],a:1,d:"schwer",p:3,c:"Reanimation"},
{q:"In welchem Intervall wird Adrenalin bei Reanimation gegeben?",o:["Alle 2 Minuten","Alle 3-5 Minuten","Alle 10 Minuten","Nur einmal"],a:1,d:"schwer",p:3,c:"Reanimation"},
{q:"Wann wird Amiodaron bei Reanimation gegeben?",o:["Sofort","Nach dem 3. erfolglosen Schock","Nach 10 Minuten","Nie"],a:1,d:"schwer",p:3,c:"Reanimation"},
{q:"Wie ist die Dosis von Amiodaron bei Reanimation?",o:["150 mg","300 mg initial dann 150 mg","500 mg","50 mg"],a:1,d:"schwer",p:3,c:"Reanimation"},
{q:"Was sind die 4 Ts bei reversiblen Ursachen?",o:["Trauma Thrombose Tamponade Toxine","Temperatur Tachykardie Trauma Test","Transport Triage Therapie Transfer","Keine"],a:0,d:"schwer",p:3,c:"Reanimation"},
{q:"Was ist die Becksche Trias bei Herzbeuteltamponade?",o:["Hypotonie gestaute Halsvenen leise Herztoene","Fieber Husten Atemnot","Tachykardie Hypertonie Kopfschmerz","Uebelkeit Erbrechen Durchfall"],a:0,d:"schwer",p:3,c:"Reanimation"},
{q:"Was bedeutet ROSC?",o:["Return of Spontaneous Circulation","Rhythm of Standard Compression","Rescue Operation Standard Care","Rapid Onset Shock Control"],a:0,d:"schwer",p:3,c:"Reanimation"},
{q:"Wie tief komprimiert man bei Saeuglings-Reanimation?",o:["2-3 cm","4 cm ein Drittel des Thorax","5-6 cm","1 cm"],a:1,d:"schwer",p:3,c:"Reanimation"},
{q:"Wo wird bei Saeuglingen der Puls getastet?",o:["Carotis","Arteria brachialis","Arteria radialis","Arteria femoralis"],a:1,d:"schwer",p:3,c:"Reanimation"},
{q:"Welche Defibrillationsenergie bei Kindern?",o:["2 J/kg dann 4 J/kg","4 J/kg initial","100 J fest","200 J fest"],a:1,d:"schwer",p:3,c:"Reanimation"},
{q:"Wie erkennt man Kammerflimmern im EKG?",o:["Regelmaessige P-Wellen","Unregelmaessige chaotische Wellen","Normale QRS","Flache Linie"],a:1,d:"schwer",p:3,c:"Kardiologie"},
{q:"Was zeigt eine ST-Hebung im EKG an?",o:["Normales EKG","Akuter Myokardinfarkt STEMI","Vorhofflimmern","Bradykardie"],a:1,d:"schwer",p:3,c:"Kardiologie"},
{q:"Was ist ein AV-Block III. Grades?",o:["Verzoegerte Ueberleitung","Komplette Unterbrechung zwischen Vorhof und Kammer","Normale Ueberleitung","Schnelle Ueberleitung"],a:1,d:"schwer",p:3,c:"Kardiologie"},
{q:"Was ist Vorhofflimmern?",o:["Regelmaessiger schneller Rhythmus","Unregelmaessige Vorhofaktivitaet","Langsamer Rhythmus","Sinusrhythmus"],a:1,d:"schwer",p:3,c:"Kardiologie"},
{q:"Therapie bei Torsade de Pointes?",o:["Amiodaron","Magnesium i.v.","Beta-Blocker","Digitalis"],a:1,d:"schwer",p:3,c:"Kardiologie"},
{q:"Therapie bei Bradykardie ohne Ansprechen auf Atropin?",o:["Adrenalin hochdosiert","Transkutane Schrittmachertherapie","Defibrillation","Amiodaron"],a:1,d:"schwer",p:3,c:"Kardiologie"},
{q:"Welches Medikament bei stabiler SVT?",o:["Adrenalin","Adenosin","Amiodaron","Atropin"],a:1,d:"schwer",p:3,c:"Kardiologie"},
{q:"Was ist die Cormack-Lehane-Klassifikation?",o:["Bewusstlosigkeitsklassifikation","Einteilung der laryngoskopischen Sicht bei Intubation","Traumaklassifikation","Schmerzskala"],a:1,d:"schwer",p:3,c:"Atemweg"},
{q:"Was ist ein Larynxtubus?",o:["Endotrachealtubus","Supraglottischer Atemweg","Nasopharyngealer Tubus","Guedel-Tubus"],a:1,d:"schwer",p:3,c:"Atemweg"},
{q:"Was ist eine Koniotomie?",o:["Luftroehrenschnitt","Notfallmaessige Eroeffnung der Membrana cricothyroidea","Nasale Intubation","Tracheotomie"],a:1,d:"schwer",p:3,c:"Atemweg"},
{q:"Wann ist Koniotomie indiziert?",o:["Bei jedem Atemstillstand","Cannot intubate cannot oxygenate","Bei Asthma","Bei Bewusstlosigkeit"],a:1,d:"schwer",p:3,c:"Atemweg"},
{q:"Was ist der BURP-Griff?",o:["Beatmungstechnik","Backward Upward Rightward Pressure","Blutstillung","Beutel-Masken-Beatmung"],a:1,d:"schwer",p:3,c:"Atemweg"},
{q:"Was sind Symptome einer Addison-Krise?",o:["Hypertonie","Hypotonie Hypoglykaemie Bewusstseinsstoerung","Fieber Husten","Tachykardie allein"],a:1,d:"schwer",p:3,c:"Notfaelle"},
{q:"Therapie der Addison-Krise?",o:["Insulin","Hydrocortison i.v. Volumengabe Glukose","Antibiotika","Adrenalin"],a:1,d:"schwer",p:3,c:"Notfaelle"},
{q:"Was ist eine thyreotoxische Krise?",o:["Schilddruesenunterfunktion","Lebensbedrohliche Ueberfunktion der Schilddruese","Nebennierenkrise","Diabetisches Koma"],a:1,d:"schwer",p:3,c:"Notfaelle"},
{q:"Therapie der malignen Hyperthermie?",o:["Paracetamol","Dantrolen Kuehlung","Antibiotika","Adrenalin"],a:1,d:"schwer",p:3,c:"Notfaelle"},
{q:"Was ist eine Eklampsie?",o:["Bluthochdruck","Krampfanfall bei Schwangeren mit Praeeklampsie","Normale Schwangerschaft","Fehlgeburt"],a:1,d:"schwer",p:3,c:"Notfaelle"},
{q:"Welches Medikament bei Eklampsie?",o:["Adrenalin","Magnesiumsulfat","Amiodaron","Atropin"],a:1,d:"schwer",p:3,c:"Notfaelle"},
{q:"Was ist das HELLP-Syndrom?",o:["Normale Schwangerschaftsbeschwerde","Haemolyse Elevated Liver enzymes Low Platelets","Herzerkrankung","Lungenerkrankung"],a:1,d:"schwer",p:3,c:"Notfaelle"},
{q:"Was ist eine Aortendissektion?",o:["Herzinfarkt","Einriss der inneren Aortenwand mit Bluteintritt","Lungenembolie","Aneurysma"],a:1,d:"schwer",p:3,c:"Notfaelle"},
{q:"Was ist eine Meningitis?",o:["Lungenentzuendung","Hirnhautentzuendung","Herzmuskelentzuendung","Leberentzuendung"],a:1,d:"schwer",p:3,c:"Notfaelle"},
{q:"Antidot bei Paracetamol-Vergiftung?",o:["Naloxon","N-Acetylcystein","Flumazenil","Atropin"],a:1,d:"schwer",p:3,c:"Toxikologie"},
{q:"Antidot bei Beta-Blocker-Ueberdosierung?",o:["Atropin","Glucagon","Naloxon","Flumazenil"],a:1,d:"schwer",p:3,c:"Toxikologie"},
{q:"Antidot bei Cyanid-Vergiftung?",o:["Atropin","Hydroxocobalamin","Naloxon","Flumazenil"],a:1,d:"schwer",p:3,c:"Toxikologie"},
{q:"Antidot bei Organophosphat-Vergiftung?",o:["Naloxon","Atropin und Obidoxim","Flumazenil","Glucagon"],a:1,d:"schwer",p:3,c:"Toxikologie"},
{q:"Symptome einer CO-Vergiftung?",o:["Zyanose","Kirschrote Hautfarbe Kopfschmerzen","Gelbsucht","Ausschlag"],a:1,d:"schwer",p:3,c:"Toxikologie"},
{q:"Therapie bei CO-Vergiftung?",o:["Abwarten","Hochdosierte Sauerstoffgabe","Antibiotika","Kortison"],a:1,d:"schwer",p:3,c:"Toxikologie"},
{q:"Antidot bei Methanol-Vergiftung?",o:["Naloxon","Ethanol oder Fomepizol","Atropin","Flumazenil"],a:1,d:"schwer",p:3,c:"Toxikologie"}
];

var DC = {leicht:"#22c55e", mittel:"#f59e0b", schwer:"#ef4444"};
var questions = [];
var currentQ = 0;
var totalScore = 0;
var selectedAnswer = null;
var userAnswers = [];
var timerID = null;
var timeRemaining = 30;

function shuffleArray(arr) {
    var newArr = arr.slice();
    for (var i = newArr.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = newArr[i];
        newArr[i] = newArr[j];
        newArr[j] = temp;
    }
    return newArr;
}

function selectQuestions() {
    var easy = [];
    var medium = [];
    var hard = [];
    for (var i = 0; i < allQ.length; i++) {
        if (allQ[i].d === "leicht") easy.push(allQ[i]);
        else if (allQ[i].d === "mittel") medium.push(allQ[i]);
        else hard.push(allQ[i]);
    }
    easy = shuffleArray(easy).slice(0, 5);
    medium = shuffleArray(medium).slice(0, 5);
    hard = shuffleArray(hard).slice(0, 5);
    return easy.concat(medium).concat(hard);
}

function showScreen(num) {
    document.getElementById("screen1").className = (num === 1) ? "" : "hide";
    document.getElementById("screen2").className = (num === 2) ? "" : "hide";
    document.getElementById("screen3").className = (num === 3) ? "" : "hide";
}

function startQuiz() {
    questions = selectQuestions();
    currentQ = 0;
    totalScore = 0;
    selectedAnswer = null;
    userAnswers = [];
    timeRemaining = 30;
    showScreen(2);
    displayQuestion();
}

function displayQuestion() {
    var q = questions[currentQ];
    document.getElementById("qnum").textContent = currentQ + 1;
    document.getElementById("score").textContent = totalScore;
    document.getElementById("progbar").style.width = ((currentQ + 1) / 15 * 100) + "%";
    document.getElementById("tagdiff").textContent = q.d + " (" + q.p + "P)";
    document.getElementById("tagdiff").style.background = DC[q.d];
    document.getElementById("tagcat").textContent = q.c;
    document.getElementById("qtext").textContent = q.q;
    document.getElementById("feedback").className = "fb hide";

    var optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";
    var letters = ["A", "B", "C", "D"];
    
    for (var i = 0; i < 4; i++) {
        var optBtn = document.createElement("div");
        optBtn.className = "opt";
        optBtn.setAttribute("data-index", i);
        optBtn.innerHTML = '<span class="optl">' + letters[i] + '</span><span>' + q.o[i] + '</span>';
        (function(index) {
            optBtn.addEventListener("click", function(e) {
                e.preventDefault();
                handleAnswer(index);
            });
            optBtn.addEventListener("touchend", function(e) {
                e.preventDefault();
                handleAnswer(index);
            });
        })(i);
        optionsDiv.appendChild(optBtn);
    }

    timeRemaining = 30;
    updateTimerDisplay();
    if (timerID) clearInterval(timerID);
    timerID = setInterval(function() {
        timeRemaining--;
        updateTimerDisplay();
        if (timeRemaining <= 0) {
            clearInterval(timerID);
            handleAnswer(-1);
        }
    }, 1000);
}

function updateTimerDisplay() {
    var timerEl = document.getElementById("timer");
    timerEl.textContent = timeRemaining;
    timerEl.className = "time";
    if (timeRemaining <= 10) timerEl.className = "time r";
    else if (timeRemaining <= 20) timerEl.className = "time y";
}

function handleAnswer(answerIndex) {
    if (selectedAnswer !== null) return;
    selectedAnswer = answerIndex;
    if (timerID) clearInterval(timerID);

    var q = questions[currentQ];
    var isCorrect = (answerIndex === q.a);
    if (isCorrect) totalScore += q.p;
    document.getElementById("score").textContent = totalScore;

    userAnswers.push({
        question: q.q,
        correct: isCorrect,
        points: isCorrect ? q.p : 0,
        difficulty: q.d,
        category: q.c,
        userAnswer: (answerIndex >= 0) ? q.o[answerIndex] : "-",
        correctAnswer: q.o[q.a]
    });

    var allOpts = document.querySelectorAll(".opt");
    for (var i = 0; i < allOpts.length; i++) {
        var idx = parseInt(allOpts[i].getAttribute("data-index"));
        if (idx === q.a) {
            allOpts[i].className = "opt ok";
        } else if (idx === answerIndex && answerIndex !== q.a) {
            allOpts[i].className = "opt no";
        } else {
            allOpts[i].className = "opt dim";
        }
    }

    var feedbackEl = document.getElementById("feedback");
    if (isCorrect) {
        feedbackEl.className = "fb fbok";
        feedbackEl.textContent = "Richtig!";
    } else {
        feedbackEl.className = "fb fbno";
        feedbackEl.textContent = "Falsch! Richtig: " + q.o[q.a];
    }

    setTimeout(function() {
        selectedAnswer = null;
        if (currentQ < 14) {
            currentQ++;
            displayQuestion();
        } else {
            showResults();
        }
    }, 1800);
}

function showResults() {
    showScreen(3);

    var percentage = Math.round(totalScore / 30 * 100);
    var grade, emoji, color;
    
    if (percentage >= 90) { grade = "Ausgezeichnet"; emoji = "ðŸ†"; color = "#ffd700"; }
    else if (percentage >= 75) { grade = "Sehr gut"; emoji = "â­"; color = "#22c55e"; }
    else if (percentage >= 60) { grade = "Gut"; emoji = "ðŸ‘"; color = "#3b82f6"; }
    else if (percentage >= 40) { grade = "Befriedigend"; emoji = "ðŸ“š"; color = "#f59e0b"; }
    else { grade = "Uebung noetig"; emoji = "ðŸ’ª"; color = "#ef4444"; }

    document.getElementById("resemoji").textContent = emoji;
    document.getElementById("resgrade").textContent = grade;
    document.getElementById("resgrade").style.color = color;
    document.getElementById("resscore").textContent = totalScore;
    document.getElementById("respct").textContent = percentage;

    var statsEasy = 0, statsMedium = 0, statsHard = 0;
    for (var i = 0; i < userAnswers.length; i++) {
        if (userAnswers[i].correct) {
            if (userAnswers[i].difficulty === "leicht") statsEasy++;
            else if (userAnswers[i].difficulty === "mittel") statsMedium++;
            else statsHard++;
        }
    }

    var gridHTML = '';
    gridHTML += '<div><span class="dot" style="background:#22c55e"></span><small>leicht</small><b>' + statsEasy + '/5</b></div>';
    gridHTML += '<div><span class="dot" style="background:#f59e0b"></span><small>mittel</small><b>' + statsMedium + '/5</b></div>';
    gridHTML += '<div><span class="dot" style="background:#ef4444"></span><small>schwer</small><b>' + statsHard + '/5</b></div>';
    document.getElementById("resgrid").innerHTML = gridHTML;

    var listHTML = '';
    for (var j = 0; j < userAnswers.length; j++) {
        var ans = userAnswers[j];
        var itemClass = ans.correct ? "ri riok" : "ri rino";
        var ptsClass = ans.correct ? "rpok" : "rpno";
        var ptsText = ans.correct ? "+" + ans.points : "0";
        
        listHTML += '<div class="' + itemClass + '">';
        listHTML += '<div class="rh">';
        listHTML += '<span class="rn">#' + (j+1) + '</span>';
        listHTML += '<span class="rd" style="background:' + DC[ans.difficulty] + '">' + ans.difficulty + '</span>';
        listHTML += '<span class="' + ptsClass + '">' + ptsText + 'P</span>';
        listHTML += '</div>';
        listHTML += '<p class="rq">' + ans.question + '</p>';
        if (!ans.correct) {
            listHTML += '<p class="rc">Richtig: ' + ans.correctAnswer + '</p>';
        }
        listHTML += '</div>';
    }
    document.getElementById("reslist").innerHTML = listHTML;
}

function initApp() {
    var startBtn = document.getElementById("startBtn");
    var restartBtn = document.getElementById("restartBtn");
    
    startBtn.addEventListener("click", function(e) {
        e.preventDefault();
        startQuiz();
    });
    
    startBtn.addEventListener("touchend", function(e) {
        e.preventDefault();
        startQuiz();
    });
    
    restartBtn.addEventListener("click", function(e) {
        e.preventDefault();
        startQuiz();
    });
    
    restartBtn.addEventListener("touchend", function(e) {
        e.preventDefault();
        startQuiz();
    });
}

if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initApp);
} else {
    initApp();
}

})();
</script>
</body>
</html>
